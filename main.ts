namespace SpriteKind {
    export const carry = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.carry, function (sprite, otherSprite) {
    if (!(carringCar)) {
        if (controller.A.isPressed()) {
            otherSprite.follow(mySprite, 100)
            carringCar = otherSprite
            otherSprite.z = mySprite.z + 1
        }
    }
})
scene.onOverlapTile(SpriteKind.carry, sprites.dungeon.buttonTeal, function (sprite, location) {
    if (sprite.image.equals(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . 6 6 6 6 6 6 . . . . 
        . . . . . 6 6 9 9 6 6 6 6 . . . 
        . . . . . c 9 6 6 6 6 6 c . . . 
        . . . . 6 c 9 6 6 6 6 6 c 6 . . 
        . . . 8 6 c 9 6 6 6 6 6 c 6 8 . 
        . . . f 6 c 9 6 6 6 6 6 c 6 f . 
        . . . f 8 c 6 6 6 6 6 6 c 8 f . 
        . . . f 6 c 6 b b b b 6 c 6 f . 
        . . . 8 6 6 b c c c c b 6 6 8 . 
        . . . 8 8 b c c c c c c b 8 8 . 
        . . . f 8 9 9 9 9 9 9 9 9 8 f . 
        . . . f 8 d 6 6 6 6 6 6 d 8 f . 
        . . . . 6 d d 6 6 6 6 d d 6 f . 
        . . . . f 6 d 6 6 6 6 d 6 f . . 
        . . . . . 8 6 6 6 6 6 6 8 . . . 
        `)) {
        sprite.destroy(effects.hearts, 500)
        music.baDing.play()
        info.changeScoreBy(1)
    } else {
        sprite.destroy(effects.bubbles, 500)
        music.pewPew.play()
        info.changeLifeBy(-1)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.carry, function (sprite, otherSprite) {
    if (carringCar) {
        if (controller.B.isPressed()) {
            carringCar.follow(mySprite, 0)
            carringCar.setVelocity(0, 30)
            carringCar.setPosition(Math.floor(ring.x / 16) * 16 + 8, Math.floor(ring.y / 16) * 16 + 8)
            carringCar.startEffect(effects.rings, 500)
            carringCar.z = mySprite.z - 1
            carringCar = null
        }
    }
})
scene.onOverlapTile(SpriteKind.carry, myTiles.tile5, function (sprite, location) {
    if (sprite.image.equals(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . 2 2 2 2 2 2 . . . . 
        . . . . . 2 2 4 4 2 2 2 2 . . . 
        . . . . . c 4 2 2 2 2 2 c . . . 
        . . . . 2 c 4 2 2 2 2 2 c 2 . . 
        . . . e 2 c 4 2 2 2 2 2 c 2 e . 
        . . . f 2 c 4 2 2 2 2 2 c 2 f . 
        . . . f e c 2 2 2 2 2 2 c e f . 
        . . . f 2 c 2 b b b b 2 c 2 f . 
        . . . e 2 2 b c c c c b 2 2 e . 
        . . . e e b c c c c c c b e e . 
        . . . f e 4 4 4 4 4 4 4 4 e f . 
        . . . f e 5 2 2 2 2 2 2 5 e f . 
        . . . . 2 5 5 2 2 2 2 5 5 2 f . 
        . . . . f 2 5 2 2 2 2 5 2 f . . 
        . . . . . e 2 2 2 2 2 2 e . . . 
        `)) {
        sprite.destroy(effects.hearts, 500)
        music.baDing.play()
        info.changeScoreBy(1)
    } else {
        sprite.destroy(effects.bubbles, 500)
        music.pewPew.play()
        info.changeLifeBy(-1)
    }
})
scene.onOverlapTile(SpriteKind.carry, sprites.castle.tileGrass1, function (sprite, location) {
    sprite.destroy(effects.bubbles, 500)
    music.pewPew.play()
    info.changeLifeBy(-1)
})
scene.onOverlapTile(SpriteKind.carry, sprites.dungeon.buttonPink, function (sprite, location) {
    if (sprite.image.equals(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . 3 3 3 3 3 3 . . . . 
        . . . . . 3 3 d d 3 3 3 3 . . . 
        . . . . . c d 3 3 3 3 3 c . . . 
        . . . . 3 c d 3 3 3 3 3 c 3 . . 
        . . . a 3 c d 3 3 3 3 3 c 3 a . 
        . . . f 3 c d 3 3 3 3 3 c 3 f . 
        . . . f a c 3 3 3 3 3 3 c a f . 
        . . . f 3 c 3 b b b b 3 c 3 f . 
        . . . a 3 3 b c c c c b 3 3 a . 
        . . . a a b c c c c c c b a a . 
        . . . f a d d d d d d d d a f . 
        . . . f a d 3 3 3 3 3 3 d a f . 
        . . . . 3 d d 3 3 3 3 d d 3 f . 
        . . . . f 3 d 3 3 3 3 d 3 f . . 
        . . . . . a 3 3 3 3 3 3 a . . . 
        `)) {
        sprite.destroy(effects.hearts, 500)
        music.baDing.play()
        info.changeScoreBy(1)
    } else {
        sprite.destroy(effects.bubbles, 500)
        music.pewPew.play()
        info.changeLifeBy(-1)
    }
})
let car: Sprite = null
let ring: Sprite = null
let mySprite: Sprite = null
let carringCar: Sprite = null
scene.setBackgroundImage(img`
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd11111dddddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd11ddddd11dddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddddddddd1ddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddddddddddd1dddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddddddddddddd1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1dddd33333dddd1ddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1dddd3333333dddd1dddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddd333333333ddd1dddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddffffffffffffddfffffffffffffffffffffffffffffffffffffffffffffffffffffddddddddddddddddddddd1dd33333333333dd1dddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddffffffffffffddfffffffffffffffffffffffffffffffffffffffffffffffffffffddddddddddddddddddddd1dd333f33f3333dd1dddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff55555555ffddff5555555f5555555555555555555f555555555555555555555ffddddddddddddddddddddd1dd33333333333dd1dddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff55555555ffddff5555555f5555555555555555555f555555555555555555555ffdddddddddddddddddddddd1d333f33f3333d1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff55555555ffddff5555555f5555555555555555555f555555555555555555555ffdddddddddddddddddddddd1d3333ff33333d1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff55555555ffddff5555555f5555555555555555555f555555555555555555555ffdddddddddddddddddddddcc1d333333333d1ccdddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff55555555ffddff5555555f5555555555555555555f555555555555555555555ffdddddddddddddddddddccccc1dc33333cd1cccccdddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff5555555fffddff5555555f5555555555555555555f555555555555555555555ffdddddddddddddddccccc33ec2221ddd1222ce33cccccdddddddddd
    dddddddddddddddddddddddddddddddddddddddfff555555fffddff5555555f5555555555555555555f555555555555555555555ffddddddddddddddcc55ceeccc22222222222ccceec55ccddddddddd
    dddddddddddddddddddddddddddddddddddddddfff555555ffdddff5555555f555555ffffffffffffff5555555fffffff5555555ffddddddddddddddc5555eeccc22222222222cccee5555cddddddddd
    ddddddddddddddddddddddddddddddddddddddddff454545ffdddff5454545f545454ffffffffffffff5454545fffffff5454545ffddddddddddddddcc55e22ecccccbd1dbccccce22e55ccddddddddd
    ddddddddddddddddddddddddddddddddddddddddff555555ffdddff5555555f555555ffffffffffffff5555555ffdddff5555555ffdddddddddddddcccee22222eccccccccccce22222eecccdddddddd
    ddddddddddddddddddddddddddddddddddddddddff454545ffdddff5454545f5454545454545454ffff5454545ffdddff5454545fffffffffffffffcbe222222222222222222222222222ebcdddddddd
    ddddddddddddddddddddddddddddddddddddddddff555555ffdddff5555555f5555555555555555ffff5555555ffdddff5555555fffffffffffffffc33b2222222222222222222222222b33cdddddddd
    ddddddddddddddddddddddddddddddddddddddddff454545ffdddff5454545f5454545454545454ffff5454545ffdddff5454545f555555555555ffcb33333be222222222222222eb33333bcdddddddd
    ddddddddddddddddddddddddddddddddddddddddff545454ffdddff4545454f4545454545454545ffff4545454ffdddff4545454f555555555555ffccb333333333333333333333333333bccdddddddd
    ddddddddddddddddddddddddddddddddddddddddff454545ffdddff5454545f5454545454545454ffff5454545ffdddff5454545f545454545454ffdccb3333333333333333333333333bccddddddddd
    ddddddddddddddddddddddddddddddddddddddddff545454ffdddff4545454f4545454545454545ffff4545454ffdddff4545454f454545454545ffddccbbbbb333333333333333bbbbbccdddddddddd
    ddddddddddddddddddddddddddddddddddddddddff454445fffffff5444544f544454ffffffffffffff5444544fffffff4454445f445444ffffffffdddcceeeebbccbbbbbbbccbbeeeeccddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff545454fffffff4545454f454545ffffffffffffff4545454fffffff4545454f45454545454fffddddcc2222ccceeeeeeeccc2222ccdddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff44454445444544454445f445444fffdddddddddff445444544454445444544ff44454445444ffdddddccccccdc2222222cdccccccddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff54545454545454545454f4545454ffdddddddddff454545454545454545454fff4545454545ffddddddddddddc2222222cdddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff44444444444444444444f4444444ffdddddddddff444444444444444444444ffffffff44444ffddddddddddddcc22222ccdddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff44444444444444444444f4444444ffdddddddddff444444444444444444444f444444444444ffdddddddddddd1cc222cc1dddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff44444444444444444444f4444444ffdddddddddff444444444444444444444f444444444444ffdddddddddddd1dccccc1d1ddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff44444444444444444444f4444444ffdddddddddff444444444444444444444f444444444444ffdddddddddddd1d1dddd1d1ddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddff44444444444444444444f4444444ffdddddddddff444444444444444444444f444444444444ffdddddd5ddddd11ddddd1d1ddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddffffffffffffffffffffffffffffffffdddddddddffffffffffffffffffffffffffffffffffffffffffdddddddd11dddddd11ddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddffffffffffffffffffffffffffffffffdddddddffffffffffffffffffffffffffffffffffffffffffffddddddd1d1dddddd1d1dddd1ddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddfffffffffdddddddddddddddddddddddff99999999ffddddddd1d1dddddd1d1ddd111dddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddff99999ffdddddddddddddddddddddddff77777777ffddddddd1d1dddddd1d1dddd1ddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddff77777ffdddddddddddddddddddddddff77777777ffddddddd1d1dddddd1d1dddddddddddd5ddddd
    dddddddddddddddddddddddddddddddddddddffffffffffffffffffffffffffffffffffffffffffff77777fffffffffffffffffffffffffff77777777ffddddddd1d1ddddddd1d1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddffffffffffffffffffffffffffffffffffffffffffff77777fffffffffffffffffffffffffff66677777ffdddddd1d1dddddddd1d1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff999999999999fff9999999999ff999999999999f99777779999ff9999f99999ff99999999ffff77777ffdddd5d1d1dddddddd1d1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777fff7777777777ff777777777777f77777777777ff7777777777f9777777779fff77777ffddd5d51d1dddddddd1d1ddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777fff7777777777ff777777777777f77777777777ff7777777777f7777777777fff77777ffdddd5d1d1ddddd1ddd1d1dddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777fff7777777777ff777777777777f66777776666ff7777777777f7777777777fff77777ffdddddd1d1ddddddddd1d1dddd55dddddddddd
    dddddddddddddddddddddddddddddddddddddff777776677777ff777776677777f777766677777fff77777ffffff7777766666f7777667777fff77777ffddddd1dd1ddddddddd1d1dddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff77777ff66666ff77777ff77777f7777fff77777fff77777ffffff77776ffffff7777ff7777fff77777ffddddd1dd1ddddddddd1dd1dddddddd11ddddd
    dddddddddddddddddddddddddddddddddddddff77777fffffffff77777ff77777f7777fff77777fff77777ffffff7777fffffff7777ff7777fff77777ffddddd1d1dddddddddd1dd1ddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777ff77777ff77777f7777fff77777fff77777ff77ff7777fffddff7777777777fff77777ffddddd1d1ddddddddddd1d1ddddddddddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777ff777777777777f7777fff77777fff777777777ff7777ffdddff7777777777fff77777ffddd1d1d1ddddddddddd1d1ddddd1ddddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777ff777777777777f7777fff77777fff777777777ff7777ffdddff7777777777fff77777ffdddd1dd1ddddddddddd1dd1ddd111dddddddd
    dddddddddddddddddddddddddddddddddddddff777777777777ff677777777776f7777fff77777fff777777777ff7777ffdddff6777777776fff77777ffdddd1dd1dddd5dddddd1dd1dddd1ddddddddd
    dddddddddddddddddddddddddddddddddddddff666666666666fff6666666666ff6666fff66666fff666666666ff6666ffdddfff66666666ffff66666ffdddd1dd1dddddddddddd1d1dddddddddddddd
    dddddddddddddddddddddddddddddddddddddffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdddd1d1ddddddddd5ddd1d1dddddddddddddd
    dddddddddddddddddddddddddddddddddddddffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffddd1dd1dddddddd5d5dd1dd1ddddddddddddd
    dddddddddddddddddddddddddddddddddddddddfffffffffddddddddddddddddddddddddddddff111111111ff111111111f11111ffdddddddddddddddddddd1dd1ddddddddd5ddd1dd1ddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff11111ffddddddddddddddddddddddddddddff999999999ff999999999f99999ffdddddddddddddddddddd1dd1ddddddddddddd1dd1ddddddddddddd
    dddddddddddddddddddddddddddddddddddddddff99999ffddddddddddddddddddddddddddddff999999999ff999999999f99999ffdddddddddddddddddddd1dd1dddddddddddddd1d1ddddddddddddd
    dddddddddddddddddddddddddddddddddddddffff99999ffffffffffffffffffffffffffffffff999999999ff999999999f66666ffffffffffffffffdddddd1dd1dddddddddddddd1dd1dddddddddddd
    dddddddddddddddddddddddddddddddddddddffff99999ffffffffffffffffffffffffffffffff999996666ff999996666ffffffffffffffffffffffddddd1ddd1dddddddddddddd1dd1dddddddddddd
    dddddddddddddddddddddddddddddddddddddff99999999999ff1111f11111ff1111111111ffff99999ffffff99999fffff99999ff111111111111ffddddd1dd1ddddddd1ddddddd1dd1dddddddddddd
    dddddddddddddddddddddddddddddddddddddff99999999999ff9999199999f19999999999ff9999999999999999999999f99999ff999999999999ffddddd1dd1dddddd111ddddddd1d1dddddddddddd
    dddddddddddddddddddddddddddddddddddddff99999999999ff9999999999f999999999999f9999999999999999999999f99999ff999999999999ffddddd1dd1ddddddd1dddddddd1dd1ddddddddddd
    dddddddddddddddddddddddddddddddddddddff66999996669ff9999999999f666666999999f9999999999699999999999f99999ff999999999999ffddddd1dd1dddddddddddddddd1dd1ddddddddddd
    dddddddddddddddddddddddddddddddddddddffff99999ffffff9999966666ffffff6999999f6699999666666999996666f99999ff999996699999ffdddd1ddd1dddddddddddddddd1dd1ddddddddddd
    dddddddddddddddddddddddddddddddddddddffff99999ffffff99996ffffff999999999999fff99999ffffff99999fffff99999ff99999ff66666ffdddd1ddd1dddddddddddddddd1ddd1dddddddddd
    dddddddddddddddddddddddddddddddddddddddff99999fffff99999fffffff999966999999fff99999ffffff99999fffff99999ff99999fffffffffdddd1ddd1ddddddddddd5ddddd1dd1dddddddddd
    dddddddddddddddddddddddddddddddddddddddff99999ff99f99999fffddff9999ff999999fff99999ffddff99999ffdff99999ff999999999999ffdddd1dd1dddddddddddddddddd1dd1dddddddddd
    dddddddddddddddddddddddddddddddddddddddff999999999f99999ffdddff9999ff999999fff99999ffddff99999ffdff99999ff999999999999ffdddd1dd1dddddddddddddddddd1dd1dddddddddd
    dddddddddddddddddddddddddddddddddddddddff999999999f99999ffdddff999999999999fff99999ffddff99999ffdff99999ff999999999999ffddd1ddd1dddddd22222222dddd1ddd1ddddddddd
    ddddddddddddddddddd666666666dddddddddddff999999999f99999ffdddff999999999999fff99999ffddff99999ffdff99999ff999999999999ffddd1ddd1dddd52c22222242dddd1dd1ddddddddd
    dddddddddddddddddd6c666666696ddddddddddff666666666f66666ffdddff666666f66666fff66666ffddff66666ffdff66666ff666666666666ffddd1ddd1dddd2cc2222224c2ddd1dd1ddddddddd
    ddddddddddddddddd6cc66666669c6dddddddddfffffffffffffffffffdddffffffffffffffffffffffffddfffffffffdfffffffffffffffffffffffddd1ddd1ddd24cc2444444ccddd1dd1ddddddddd
    dddddddddddddddd69cc69999999ccdddddddddfffffffffffffffffffdddffffffffffffffffffffffffddfffffffffdfffffffffffffffffffffffdd1dddd1dd224cbeeeeeee2cddd1ddd1dddddddd
    dddddddddddddddd69cc69999999ccdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddd1dd2224beebbbebbe2ddd1ddd1dddddddd
    ddddddddddddddd669cb888888886cdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddd1dd22222ebbbbebbbedddd1dd1dddddddd
    dddddddddddddd6669b88bbbb8bb86dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1ddd3312222e22222e222e11331dd1dddddddd
    cccccccccccccc666668bbbbb8bbb8cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc1d311112dd2efeeefeeeee311113dc1ccccccc
    bbbbbbbbbbbbbb6666866666686668bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb1311113ddd2eeefeefeeeeebd3111131bbbbbbb
    bbbbbbbbbbbbbb6dd68f8888f88888bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb311111bbeeeeeeefffeeeeebbbb11113bbbbbbb
    bbbbbbbbbbbbbbdd6888f888f88888bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb3111d1bbeeeefffeeeeffffbbbbd1113bbbbbbb
    bbbbbbbbbbbbbb8888888ffff88888bbbbbbbbbbbbbbbbbbbbbbcbcbcbcbcbcbcccbcccbcccbcccccccccccbcccbcccbcbcbcbcbcbcbbbbbbbbbbbbbb311113bbbbefffffeefffffbbb311113bbbbbbb
    bbbbbbbbbbbbbb8888888ffff88888bbbbbbbbbbbcbcbcbcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcbcbbbd1111133bbbffffbbbbfffbb3311111dbbbbbbb
    dddddddddddddd8888fff88888ffffdddddddbcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbdd11111133dddddddddd33111111dddddddddd
    bbbbbbbbbbbbbbbb8ffffff88fffffbbbbbbbbbcbcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbcbbbb3d1111111111111111111111d3bbbbbbbbbb
    bbbbbbbbbbbbbbbbbffffbbbbbfffbbbbbbbbbbbbbbbcbcbcccbcccccccccccccccccccccccccccccccccccccccccccccccccccccccbcccbcbcbbbbbbbbbbbbd3d11111111111111d3dbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbd33333333dbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd666666666ddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddd22222222ddddddddddddddddddddddddddddddddddddddddddddddd696666666c6dddddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddd24222222c2ddddddddddddddddddddddddddddddddddddddddddddd6c96666666cc6ddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddd2c4222222cc2ddddddddddddddddddddddddddddddddddddddddddddcc99999996cc96dddddddddddddddddddddddddddddddddddddddddddddd
    ddddddddddddddddddddddddddddddddddddddddddddcc4444442cc42dddddddddddddddddddddddddddddddddddddddddddcc99999996cc96dddddddddddddddddddddddddddddddddddddddddddddd
    ccccccccccccccccccccccccccccccccccccccccccccc2eeeeeeebc422dcccccccccccccccccccccccccccccccccccccccccc688888888bc966dcccccccccccccccccccccccccccccccccccccccccccc
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb2ebbebbbeeb4222bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb68bb8bbbb88b9666bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbebbbebbbbe22222bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8bbb8bbbbb866666bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe222e22222e2222bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8666866666686666bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbeeeeefeeefe2dd2bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb88888f8888f86dd6bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbeeeeefeefeee2ddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb88888f888f8886ddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    ddddddddddddddddddddddddddddddddddddddddddddeeeeefffeeeeeeeddddddddddddddddddddddddddddddddddddddddd88888ffff8888888dddddddddddddddddddddddddddddddddddddddddddd
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbffffeeeefffeeeebbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb88888ffff8888888bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbfffffeefffffebbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbffff88888fff8888bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbfffbbbbffffbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbfffff88ffffff8bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbfffbbbbbffffbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    `)
music.playMelody("C E G C5 - G C5 - ", 480)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
scene.setBackgroundColor(7)
tiles.setTilemap(tilemap`level`)
mySprite = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    .............33333..............
    ............3333333.............
    ...........333333333............
    ..........33111311133...........
    ..........331f131f133...........
    ..........33111311133...........
    ..........33333333333...........
    ..........333b3333b33...........
    ..........333bbbbbb33...........
    ..........33333333333...........
    ......33ec2221ddd1222ce33.......
    ..55ceeccc22222222222ccceec55...
    .5555eeccc22222222222cccee5555..
    ..55e22ecccccbd1dbccccce22e55...
    ..ee22222eccccccccccce22222ee...
    be222222222222222222222222222eb.
    33b2222222222222222222222222b33.
    b33333be222222222222222eb33333b.
    .b333333333333333333333333333b..
    ..b3333333333333333333333333b...
    ...bbbbb333333333333333bbbbb....
    ....eeeebb..bbbbbbb..bbeeee.....
    .....2222...eeeeeee...2222......
    ............2222222.............
    ............2222222.............
    .............22222..............
    ..............222...............
    `, SpriteKind.Player)
controller.moveSprite(mySprite)
tiles.placeOnTile(mySprite, tiles.getTileLocation(4, 5))
scene.cameraFollowSprite(mySprite)
ring = sprites.create(img`
    ................................
    ................................
    .........33333333333333.........
    .....33111111dddddd11111133.....
    ..d3111133d..........d3311113d..
    .311113d................d311113.
    31111......................11113
    3111d......................d1113
    311113....................311113
    d1111133................3311111d
    .dd11111133dd......dd33111111dd.
    ...3d1111111111111111111111d3...
    ......d3d11111111111111d3d......
    ...........d33333333d...........
    ................................
    ................................
    `, SpriteKind.Projectile)
info.setLife(3)
info.setScore(0)
game.splash("A:Catch", "B:Release")
game.onUpdate(function () {
    ring.setPosition(mySprite.x, mySprite.y + 40)
})
game.onUpdateInterval(2000, function () {
    car = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . 2 2 2 2 2 2 . . . . 
        . . . . . 2 2 4 4 2 2 2 2 . . . 
        . . . . . c 4 2 2 2 2 2 c . . . 
        . . . . 2 c 4 2 2 2 2 2 c 2 . . 
        . . . e 2 c 4 2 2 2 2 2 c 2 e . 
        . . . f 2 c 4 2 2 2 2 2 c 2 f . 
        . . . f e c 2 2 2 2 2 2 c e f . 
        . . . f 2 c 2 b b b b 2 c 2 f . 
        . . . e 2 2 b c c c c b 2 2 e . 
        . . . e e b c c c c c c b e e . 
        . . . f e 4 4 4 4 4 4 4 4 e f . 
        . . . f e d 2 2 2 2 2 2 d e f . 
        . . . . 2 d d 2 2 2 2 d d 2 f . 
        . . . . f 2 d 2 2 2 2 d 2 f . . 
        . . . . . e 2 2 2 2 2 2 e . . . 
        `, SpriteKind.carry)
    tiles.placeOnRandomTile(car, myTiles.tile1)
    if (Math.percentChance(33)) {
        car.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . 3 3 3 3 3 3 . . . . 
            . . . . . 3 3 d d 3 3 3 3 . . . 
            . . . . . c d 3 3 3 3 3 c . . . 
            . . . . 3 c d 3 3 3 3 3 c 3 . . 
            . . . a 3 c d 3 3 3 3 3 c 3 a . 
            . . . f 3 c d 3 3 3 3 3 c 3 f . 
            . . . f a c 3 3 3 3 3 3 c a f . 
            . . . f 3 c 3 b b b b 3 c 3 f . 
            . . . a 3 3 b c c c c b 3 3 a . 
            . . . a a b c c c c c c b a a . 
            . . . f a d d d d d d d d a f . 
            . . . f a d 3 3 3 3 3 3 d a f . 
            . . . . 3 d d 3 3 3 3 d d 3 f . 
            . . . . f 3 d 3 3 3 3 d 3 f . . 
            . . . . . a 3 3 3 3 3 3 a . . . 
            `)
    } else {
        if (Math.percentChance(33)) {
            car.setImage(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . 6 6 6 6 6 6 . . . . 
                . . . . . 6 6 9 9 6 6 6 6 . . . 
                . . . . . c 9 6 6 6 6 6 c . . . 
                . . . . 6 c 9 6 6 6 6 6 c 6 . . 
                . . . 8 6 c 9 6 6 6 6 6 c 6 8 . 
                . . . f 6 c 9 6 6 6 6 6 c 6 f . 
                . . . f 8 c 6 6 6 6 6 6 c 8 f . 
                . . . f 6 c 6 b b b b 6 c 6 f . 
                . . . 8 6 6 b c c c c b 6 6 8 . 
                . . . 8 8 b c c c c c c b 8 8 . 
                . . . f 8 9 9 9 9 9 9 9 9 8 f . 
                . . . f 8 d 6 6 6 6 6 6 d 8 f . 
                . . . . 6 d d 6 6 6 6 d d 6 f . 
                . . . . f 6 d 6 6 6 6 d 6 f . . 
                . . . . . 8 6 6 6 6 6 6 8 . . . 
                `)
        }
    }
    car.setVelocity(0, 30)
    mySprite.z += 1
})
